<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste Modal</title>
    <link rel="stylesheet" href="styles.css?v=20241126-FINAL">
    <style>
        body {
            padding: 50px;
            background: #0a0a0a;
            color: white;
        }
        .test-btn {
            padding: 20px 40px;
            background: #f7931a;
            color: black;
            border: none;
            border-radius: 12px;
            font-size: 18px;
            cursor: pointer;
            margin: 10px;
        }
    </style>
</head>
<body>
    <h1>üß™ TESTE DO MODAL</h1>

    <button class="test-btn" onclick="testBinance()">Testar Binance (TEM X)</button>
    <button class="test-btn" onclick="testKast()">Testar Kast (N√ÉO TEM X)</button>

    <div id="status" style="margin-top: 20px; padding: 20px; background: #1a1a1a; border-radius: 8px;">
        <h3>Status:</h3>
        <div id="statusText">Clique em um dos bot√µes acima...</div>
    </div>

    <!-- Platform Modal -->
    <div class="modal-overlay" id="platformModal">
        <div class="modal-content">
            <div class="modal-header">
                <button class="modal-close" id="closeModal" aria-label="Close">√ó</button>
                <div class="modal-logo">
                    <img id="modalLogo" src="" alt="">
                </div>
                <h3 id="modalTitle"></h3>
            </div>
            <div class="modal-body">
                <p id="modalDescription"></p>
            </div>
            <div class="modal-footer">
                <button class="modal-x-btn" id="followOnX">
                    <span>Seguir no X</span>
                </button>
                <button class="modal-visit-btn" id="visitSite">
                    <span>Visitar Site</span>
                </button>
                <button class="modal-back-btn" id="backModal">
                    <span>Voltar</span>
                </button>
            </div>
        </div>
    </div>

    <script src="script.js?v=20241126-FINAL"></script>
    <script>
        function updateStatus(msg) {
            document.getElementById('statusText').innerHTML = msg;
        }

        function testBinance() {
            updateStatus('üß™ Testando Binance (TEM xProfile)...');
            window.cryptoAggregator.showModal('binance');

            setTimeout(() => {
                const btn = document.getElementById('followOnX');
                const hasShow = btn.classList.contains('show');
                const display = window.getComputedStyle(btn).display;
                updateStatus(`
                    <strong>Binance:</strong><br>
                    ‚úÖ Tem xProfile: https://x.com/binance<br>
                    Classe 'show': ${hasShow ? '‚úÖ SIM' : '‚ùå N√ÉO'}<br>
                    CSS display: ${display}<br>
                    ${hasShow && display === 'flex' ? 'üéâ <strong>FUNCIONANDO!</strong>' : '‚ùå <strong>N√ÉO FUNCIONANDO</strong>'}
                `);
            }, 500);
        }

        function testKast() {
            updateStatus('üß™ Testando Kast (N√ÉO TEM xProfile)...');
            window.cryptoAggregator.showModal('kast');

            setTimeout(() => {
                const btn = document.getElementById('followOnX');
                const hasShow = btn.classList.contains('show');
                const display = window.getComputedStyle(btn).display;
                updateStatus(`
                    <strong>Kast:</strong><br>
                    ‚ùå N√£o tem xProfile (null)<br>
                    Classe 'show': ${hasShow ? '‚ùå TEM (ERRO!)' : '‚úÖ N√ÉO TEM'}<br>
                    CSS display: ${display}<br>
                    ${!hasShow && display === 'none' ? 'üéâ <strong>FUNCIONANDO!</strong>' : '‚ùå <strong>N√ÉO FUNCIONANDO</strong>'}
                `);
            }, 500);
        }
    </script>
</body>
</html>
